{
  "saml": {
    "enabled": true,
    "version": "2.0",
    "serviceProvider": {
      "entityId": "avalon-agent-explorer",
      "assertionConsumerService": {
        "url": "https://github.com/issdandavis/Avalon/agent/saml/acs",
        "binding": "urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
      },
      "singleLogoutService": {
        "url": "https://github.com/issdandavis/Avalon/agent/saml/slo",
        "binding": "urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"
      }
    },
    "identityProvider": {
      "entityId": "${IDP_ENTITY_ID}",
      "singleSignOnService": {
        "url": "${IDP_SSO_URL}",
        "binding": "urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"
      },
      "singleLogoutService": {
        "url": "${IDP_SLO_URL}",
        "binding": "urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"
      },
      "x509Certificate": "${IDP_CERTIFICATE}"
    },
    "security": {
      "authnRequestsSigned": true,
      "wantAssertionsSigned": true,
      "wantMessagesSigned": true,
      "signatureAlgorithm": "http://www.w3.org/2001/04/xmldsig-more#rsa-sha256",
      "digestAlgorithm": "http://www.w3.org/2001/04/xmlenc#sha256"
    },
    "attributes": {
      "mapping": {
        "userId": "urn:oid:0.9.2342.19200300.100.1.1",
        "email": "urn:oid:0.9.2342.19200300.100.1.3",
        "displayName": "urn:oid:2.16.840.1.113730.3.1.241",
        "groups": "urn:oid:1.3.6.1.4.1.5923.1.5.1.1"
      },
      "required": ["userId", "email"]
    },
    "session": {
      "duration": 3600,
      "refreshEnabled": true,
      "refreshThreshold": 300
    },
    "permissions": {
      "requireAuthentication": true,
      "allowedOperations": [
        "repository.read",
        "repository.explore",
        "file.view",
        "file.search",
        "lore.curate",
        "lore.organize"
      ],
      "roleBasedAccess": {
        "admin": ["*"],
        "curator": ["repository.read", "file.view", "file.search", "lore.curate", "lore.organize"],
        "viewer": ["repository.read", "file.view", "file.search"]
      }
    }
  }
}
